import { isCharNumber, getNumberLeftAndRight, Index, replaceAt } from '../utils'

export { };

const test = `
#.##..##.
..#.##.#.
##......#
##......#
..#.##.#.
..##..##.
#.#.##.#.

#...##..#
#....#..#
..##..###
#####.##.
#####.##.
..##..###
#....#..#
`;

const task = `
######..#....#.
######.#.#.####
##..###.##.#..#
......######.#.
#....###...##.#
.#..#.###.#.##.
.#..#..##.#.##.

#.#....##....#.#.
#.#....##....#.#.
##.##.####.##.###
.....#....#......
#####.####.######
.###...##...###.#
..####....####...
.#####....#####.#
.##...#..##..##..
#.####....####.#.
.#....####....#.#
..##........##...
.#.###....###.#.#

#########..##
.####..#.##.#
.#..#....##..
..##..#.#..#.
.......#.##.#
.####.#.#..#.
..##...#....#
......#..##..
#...###..##..

#..#..#.###
###....####
##..##.#.#.
##..##.#.#.
###....####
#..#..#.###
##.##..##.#
#...#.....#
...##.###.#
####.#.##..
.#.###.#...
####..#...#
#.#.#####..
#.#.#####..
####..#....
.#.###.#...
####.#.##..

####....####.#...
#.#.#..#.#.#.#...
...#....#....#.##
.#.#.####.#.###..
#.##.##.##.##.#..
####....#######..
.##########.##...
...##..##....####
##...##...##.####
.##########..####
.#.##..##.#..#.##
.#........#.#.###
.##.####.##.#..##

####..##..#####
#.#..#..#..#.##
.##..#..#..##..
.#..#....#..#..
..#.#.##.#.#...
..#.#.##.#.#...
.##..#..##.##..

#....##....##..
##..#..#..####.
##........####.
...##..##......
###..##..######
..##.##.##....#
###..##..######
.##########..##
##..####..####.
..###..###....#
..########....#
..#............
#.#..##..#.##.#
####....#######
....####.......

##.##.###########
#..#..###.#..#.##
##..#.##...##.#.#
..##.###...##...#
#.###.#..######..
##.##...#.####.#.
##.##...#.####.#.
#.###.#..######..
..##.###...##...#

#..##..##..##
#..##..#..##.
#.#..#.#.##..
#......##.##.
#......##.##.
#.#..#.#.##..
#..##..#..#..
#..##..##..##
.#....#.#..#.

.##..####.###.##.
#..######.##...##
#..#.##.#..##.#.#
####...####.#..##
####.#...##.####.
#..#.#.#......##.
#####.###.##..#.#
#####.###.##..#.#
#..#.#.#......##.
####.#...##.####.
####...####.#..##
#..#.##.#..##.#.#
#..######.##...##
.##..####.###.##.
.##.##.##..##.###
.......#.#....#.#
#...#....##..#...

.##.#.##.
.##.#.##.
##.....##
..###...#
###.##.#.
.#...##..
.#...#...

...#.....
........#
#..##..##
###..###.
###..###.
#..##..##
........#

..####.....######
#.####.######.##.
###..####...#.##.
..#..#..#.#######
...##......######
..#..#...#####..#
#.####.####.#....
.##..##..###..##.
#########.##.###.
##....##.########
..#..#...#...####

########..#.#
....#.##...#.
.##.....#..##
.##....#.#.#.
####.###.#.#.
####..###.#..
#..#.#.#...##
.##..#.#.#..#
#..#.##..##..
#..#.#.#...#.
#..#.##..#..#
....##.....#.
....####.###.
....####.#.#.
....##.....#.
#..#.##..#..#
#..#.#.#...#.

#.##..##.###...
.###..###.##.##
###.##.###.#...
#.#....#.####..
#...##...###..#
#...##...###...
#.#....#.####..
###.##.###.#...
.###..###.##.##
#.##..##.###...
#.##..##.#.####
.#.####.#.#....
###....######.#

.####.##.##
#.#..#..#..
#.#..#..#..
.####.##.##
...#.......
##.#......#
.##.######.

.#..##...###..#
.########..#.#.
###.##....##.##
...#####...##.#
.#.#.#.#.#..##.
.#.#.#.#.#..##.
...#####...##.#
###.##....##.##
.########..#...
.#..##...###..#
..##..#...###.#
..##..#...###.#
.#..##...###..#

...#.#.
...#..#
.#..##.
##.#.#.
####..#
.###..#
.##...#
####..#
##.#.#.
.#..##.
...#..#
...#.#.
####...
####...
...#.#.
...#..#
.#..##.

#.###..#..#..###.
...#.###..###.#..
..#..#.#..#.#..#.
...##.#.##.#.##..
...##.#.##.#.##..
..#..#.#..#.#..#.
...#.###..###.#..
#.###..#..#..###.
..##.#..##..#.##.
.##.#.#....#.#.##
.####.##..##..###
#.#.#...##...#.#.
#...#.##..##.#...
.##...#....#...##
.#...#..##..#...#
.#.#...####...#.#
##.#....##....#.#

.###..#....#..##.
.###..#....#..##.
#.##..##...##.###
#...##..##..##.##
###..#.#..##.#.##
#.#.#.##.........
.###.#.##.....##.
.###.#.##.....##.
#.#.#.##.........
.##..#.#..##.#.##
#...##..##..##.##

...##....#.......
#..##...###..##..
.##..##.#..##..##
#..#.##...##....#
#.##...####.#..#.
#...#......######
##.#...##.#.#..#.
#...#.#..####..##
#.#.#..##..######
####....#.###..##
.####..#.##......
.####..#.##......
####....#.###..##
#...#..##..######
#...#.#..####..##

##...#......#..
##...#......#..
...#.########.#
#.#..##.##.##..
..###.##..##.#.
.#..#..#..#..#.
###.##.####.##.
#...#...##...#.
..###.#....#.##

#.#####
..#####
#.###.#
#..###.
#..##.#
.##..#.
..#...#
.....##
.....##

.#.#.##..##.#.#
...#........#..
##...#.##.#...#
.###..#..#..###
##..##....##..#
.#...#....#...#
...####..##.#..
###..######..##
#...#.####.#...
.#.##.#..#.##.#
#.#.###..###.#.
.#..#......#..#
######.##.#####
######.##.#####
.#..#......#..#
#.#.###..###.#.
.#.##.#..#.##.#

..#....######...#
..####...##..#..#
.##.###.##.###...
#.#.....#....#.#.
.#.#..###...###..
.#....###...###..
#.#.....#....#.#.
.##.###.##.###...
..####...##..#..#
..#....######...#
.#.###.###..#####
.#.###.###..#####
..#....######...#
..####...##..#..#
.##.###.##.###...

##.###..#.##.
##..#.#...#.#
##..#.##..#.#
##.###..#.##.
#####.##.#.##
###....##.#.#
.......#...##
##.##.#######
###..#...#.##
.......##.##.
..#.##.##..#.

#.###..#..#.####.
......#.##.#....#
.##..#..#.......#
.#######...#....#
##.....#..##..##.
#..#....#######.#
##..#.....###...#
##..#.....###...#
#..#....#######.#
##.....#..##..##.
.#######...#....#
.##..#..#...#...#
......#.##.#....#
#.###..#..#.####.
#.###..#..#.####.
......#.##.#....#
.##..#..#...#...#

###.#.#
...####
##....#
##...##
...#...
...#..#
#..####
..##.##
###.#..
..#.#.#
...##..
####.#.
..#.##.
..#.#.#
..#.#.#

##.#.###..##...#.
.#..##...#..##...
.###...##.#.####.
#.#.##.#..###..##
.###.#...##..###.
.###.#...##..###.
#.#.##.#..###..##
.###...##.#.####.
.#..##...#..##...
##.#.###..##...#.
.#..#....#...####
###..####.#.#...#
.###.##.#..######
#..##...#####.###
#..##...#####.#.#

#....##..####.##.
#....##..####.##.
.#...#.....#.#..#
...#...#####.##.#
..##..##.###..##.
#...###..##..####
#...###..##..####
..##..##.###..##.
...#...#####.##.#
.#...#....##.#..#
#....##..####.##.

#####..##.###
#####..##.###
###...##.#.#.
#..##..#..#..
##.#.#..#####
##.###...#.##
..#..###.##..
..#.#...#####
#########...#
..##..##..#..
..###.##.#..#

..#####.##.
.###.######
..#..#..##.
#####.#####
#####.#####
..#..#..##.
.###.######
..##.##.##.
##.###.....
#.#####.##.
#.#........

...#####.....
...#####.....
#....#.###..#
#######...##.
..##.#..##..#
###......####
..#.##.##..#.
.##..###..#..
.##..###..#..
..#.##.###.#.
###......####

.###....###..
...#.##.#...#
##..#..#..###
##..#..#..###
...#.##.#...#
.###....###..
..###..###...
##.######.###
##...##...##.
#...####...#.
..#......#...
##.####.#.##.
##.##..##.###

##..##.#.##..
.#..#.#...#.#
..##..#######
..##..#######
.#..#.#...#.#
##..##.#..#..
..##..#.#.###
.####.##.#.##
#....######..
......###.#..
.####.##..#..
.####.....###
#.##.#...#.#.
#.##.####..#.
#....##.#.#..
######..####.
.####....####

##..####..##.#..#
.####.#.###..####
.#..#.##....##..#
.####..#...###..#
..##..#....#..##.
..##..##.#.##.##.
#....##...#..#..#
..#....#.#....##.
..##..#....######
########.#..#####
#######.##.###..#
..##..#...#..####
##..###.#..#..##.

......##.....
......##.....
####.##.#.#.#
.......#.####
.##.##..#.###
.#....###....
#####.##.#.##
###.#.##.#.##
.#....###....
.##.##..#.###
.......#.####
####.##.#.#.#
......##.....

..#..#..#..#...
.##.##..##.##..
##.##....##.###
....#....#.....
#............##
...###...##....
####......#####
#...#....#...##
...########....
#.##.####.##.##
##.#.####.#.###

.#..######..#..##
##..##..##..###..
##..##..##..###..
.#..######..#..##
..#........#..#.#
#.###.##.###.#..#
#.#.######.###...

###.#######....##
######.#...####..
##...#..#.#.##...
####.#.##########
##.####....#..#..
##.....##.#.##.#.
.######..##.##.##
...####.###....##
...#.##..........
##..#....#.#..#.#
##..#....#.#..#.#
...#.##..........
...####.###....##
.######..##.##.##
##.....##.#.##.#.
##.####....#..#..
####.#.##########

.#...####...#.#.#
##..#.##.#..##.#.
.##...##...##.#..
..###....###..#..
#.#........#.#.##
..#..####..#..#..
..............###
..............###
..#..####..#..##.
#.#........#.#.##
..###....###..#..
.##...##...##.#..
##..#.##.#..##.#.

..##.#..#
###...##.
..#.#####
.##.##..#
#........
##..#.##.
#........
##..#.##.
#...#.##.

..#.##..###
#.##.#.##..
...##.#....
...####....
#.##.#.##..
..#.##..###
#..##.##.##
.#.#...#.##
##.##.#....
#..#...#...
##.#..#.#..
..#.#..#.##
##.#.##.#..

#.....#
#...#..
#...#..
#.....#
.##.###
.####..
#.##.#.
##..##.
##..##.
####.#.
.####..
.##.###
#.....#

........###..
#..##..#.##..
.######....##
......#..##..
#..##..#.#...
###..####....
#.#..#.##..##
#.####.#.####
##.##.##.##..
.##..##...###
##.##.##.#...
###..####.#..
.##..##.#....

.####.#######
..##..#.##...
##..##.......
##..##..#.#..
.####..##....
.####.##.##..
.####.##.....
#....##...#..
#....#.##.#..
...#..#.#....
#.##.###.#.##

#......##
.#....#.#
#.#....##
..#..#...
..####...
..####...
.#.##.#.#
.#.##.#.#
..####...

##.#..##.
..###.##.
..###.##.
##.#..##.
..#...##.
#...##..#
#.#.##.##

..##..##.#.###.
.###..##.#.###.
###...#.###..##
#######.#...##.
######.......##
#..######...###
.#..###.###.#..
..#.##.##.#.##.
.###.##..##.###
.####.######..#
.####.######..#
.###.##..##.###
..#.##.##.#.##.

#.#...##..##...#.
.....##.##.##....
.##...######...##
.##...######...##
.....##.##.##....
#.#...##..##...#.
#####..#..#..####
.....#.####.#....
..##..#.##.#..##.
####.########.###
###.##......##..#
...##..#..#..##..
#.#.###....###.#.
.##.###....###.##
.##.#.##..##.#.##
.#.#..#....#..#.#
....#.#.##.#.#...

#.##.#...#.##..##
.....######....##
#.##.###....##.##
###...##.##.##.##
.#...##..#.....#.
#####.#.##.#..###
#.#####.#..#.#.##
#.....##..####...
..#.###.....#####
#.....#.#####....
#.#.##.#.###.#.##
#.#.##.#.###.#.##
#.....#.#####....
..#.###.....#####
#.....##..####...
#.#####.#..#.#.##
#####.#.##.#..###

###.#..###.#...#.
##.#.#...####...#
##.#.#...####...#
###.#..###.#.#.#.
.####.##..#.##.#.
#.##.###..#.#####
..#..########..##
#.####.....#.##.#
...###..##.####..
..#...#....#...##
..#####...#####..
..#####...#####..
..#...#....#...##
...###..##.####..
#.####.....#.##.#

#..............
#...##......##.
..###..#..#.###
##...##....##..
.#.#...#..#...#
.####.######.##
..#...##..##...
..#.##.#..#.##.
#..##..####..##
#..##..####..##
..#.##.#..#.##.
..#...##..##...
.####.######.##

#..###.#.#..#
####.##.####.
#..######.###
#####...#..#.
..#..#...#.##
.......#####.
######..#...#
#..###.##.#..
######.######
....##..#.##.
....##..#.##.
######.######
#..###.##.#..
######..#...#
.......#####.

.###.##..#.
.###.##..##
.#...##...#
.##.###....
.##.###....
.#...##...#
.###.##..##
.###.##..#.
#....#..###
#.#.##..#..
.##.#......
#...#...###
###..###..#
....###.##.
.#..##.##.#

#.#....##..#.#.
#.#....##..#.#.
#...#######...#
##.##........#.
...#.###...#.##
####.....#.#.#.
..#####.##..#..
..#####.##..#..
####.....#.###.
...#.###...#.##
##.##........#.
#...#######...#
#.#....##..#.#.

...##.###..
##....#.#.#
...#.#.#.#.
.#.##.##...
#..##.#..#.
######.#.##
######.#.##
#.###.#..#.
.#.##.##...
...#.#.#.#.
##....#.#.#
...##.###..
#.###..#.#.
..#..###.#.
#..#..###..
#..#..###..
..#..###.#.

.##.#..#.
.#.##..#.
..##....#
##.#####.
.#.....#.
#.###.#.#
#.###.#.#
.#.....#.
##.#####.
..##....#
.#.#...#.
.##.#..#.
..####.#.
.#.#.##.#
.#.#.##.#

####...#....#...#
.##..####..####..
####....#.......#
....##..####..##.
....###......###.
#..##..#.##.#..##
....#.#......#.#.
#..#.#.##..##.#.#
.....##.#..#.##..

..##.#......#.##.
...#.#.#..#.#.#..
###....#..#....##
##.#.#......#.#.#
#####...##...####
##.#..#.##.#..#.#
..#..##....##..#.
###.#.######.#.##
..###.######.###.
..###.######.###.
...#...#..#...#..
###..#......#...#
..#####....#####.
##....#.##.#....#
...#..######..#..
..#.##......##.#.
##.#####..#####.#

####..#......#.#.
#..#...#...#..#..
....##..#.###.###
......#..###.#..#
#####.....##....#
#..#..#.####.#.#.
#..###...#.....#.
#..##.#.#.#..####
#..##.#.#.#..####
#..###...##....#.
#..#..#.####.#.#.

#.##.#....#..#...
###....###.######
..###....######..
.#.#..#.#......#.
..########.##.###
..########.##.###
.#.#..#.#......#.

..####...#......#
...##....#...####
#.#..#.#.##..####
...##.....##.#...
...##...#.#.#....
##########..#....
#..##..##.#...###
.#....#.##...##..
##....##...#.##..

....#####.#.##.#.
#....##.#.#.##..#
##...#.....##..#.
#..##..###...#..#
#..##..###...#..#
##...#.....##..#.
#....##.#.#.##..#
....#####.#.##.#.
#..#.#..#..#.#.#.
.#.#.....#.#..###
#.#.#.#####.##.#.
#.#.#.#####.##.#.
.#.#.....#.#..###
#..#.#..#..#.#.#.
....#####.#.#..#.

#####.#..##
..###.#..##
..###.#..##
#####.#..##
##..#......
..###..#..#
##.#.#..#.#
#...##.##.#
..####.#.#.
###...#.#.#
..#..##....
##...##..#.
..#.####...
##..#.#.###
..#.#.##...

####.#.#.###.#.
....#.#.######.
....#.#.######.
####.#.#.###.#.
##.##..###.#...
#..#.###.....#.
#.#######..####
.#.##.#...#..#.
#..####.......#
.##############
#.#....#.###.#.
#.#....#.###.#.
.#########.####
#..####.......#
.#.##.#...#..#.

.#.....#..#..
#.#.#.#..##..
.#####.#..###
#.#....#.#...
#.##...###...
#.##...###...
#.#......#...

#.#..#......##..#
..#..#..#..#..##.
#.......#.###....
##.###.###...#..#
####..###.####..#
...###.......####
###..#..#...#####
###..#..#...#####
...###.......####
####..###.####..#
##.##..###...#..#

...#..##.#.
...#..##.#.
#..#.#..#..
...#.###.##
##..#...##.
###....#...
#.#.#..###.
.#..###....
.#..###....
#.#.#..###.
###....#...
##..#...##.
...#.###.#.
#..#.#..#..
...#..##.#.

...#####.##.#
#.##.........
#.##.........
...#####.##.#
.#######....#
##.#..#..##..
....##...##..
..#.##..#..#.
.###.##......
.#..###......
...#.#.##...#

.#..#...#.##.
...#####.#..#
...#####.#..#
.#..#...#.##.
#...####.####
......#..#.##
.##..#.#..##.
#.#.#.##..#..
#.#.#.##..#..
.##..#.#..##.
......#..#.##
#...####.####
....#...#.##.

##....#.##.#.
.........#.##
##.#...#....#
##.#...#....#
.........####
##....#.##.#.
####.##...#.#
...#.....###.
..#######.#..

#.###.##.###.##
###...##...#.##
.....#..#......
#..#......#..##
##.########.###
#...#.##.#...##
##.###..###.###
.##.##..##.##..
###.#....#.####

..###.##.##..
..#........#.
##...####...#
...#.####.#..
....##..##...
..##.####.##.
...#..##..#..
##...#..#...#
##.#......#.#

......#
..#..#.
####...
###.###
..##.##
..#..#.
..###.#
##..###
##..###
..###.#
..##.#.

...##....##..
...##....##..
..####..####.
####......###
#..#.#..#.#..
#.#.##..##.#.
.############
###...##..###
##.########.#
#.#..#..#..#.
#.####..####.
#.#.######.#.
.#.##.##.##.#
.#...####...#
##..##..##..#

###....
###....
#.###.#
###....
..##..#
.######
#.#.##.
##..##.
.#.....

####..#
####..#
...####
....##.
...#..#
.##....
.#.....
#.##..#
##.#..#
.#.####
.##..#.
##.....
.#..##.
#.##..#
.##....
##.....
..#####

##....##.#.###.
....##.##.#..##
.#.######..#...
...#.#.#.##.#..
###.#..#.#..##.
##.###.....#.##
##.###.....#.##
###.#..#.#..##.
...#.#.#.##.#..

...#.#..#
###.#.#.#
###.####.
.....##.#
.#.###...
.#.###..#
.....##.#
###.####.
###.#.#.#
...#.#..#
.##..#.#.
.##..#.#.
...#.#..#

.#.#.##.#....
###..##..#.##
#.....###....
#..##..#.....
#..####.##...
###..####.#..
###..####.#..
#..####.##...
#.###..#.....

#######..#..##.#.
#####.#..#..##.#.
##...####...###..
..####.#.#..##...
###.#######....##
..#.###.#.#.#..#.
...#.###.####.#..

#.######.##
.#......#.#
.#......#.#
#.######.##
#.##..##.#.
.##.##.##..
#######.##.
..######..#
##..##..###
.########..
#.######.##
##.####.##.
...#..#....
#.######.#.
..##..##...

#........##
.#.#.#.....
.#...#.....
#........##
##.##..##..
.#..#..##..
##.#.#...##
#.#..###...
#.#.#.##...

.##...#.###..
.#..###...#..
..##.#.##....
.#..#.##.####
...#...#.#.##
.#.##.###.###
#.###......##
#...###..#.##
.###.##.##.##
#.###.#.#..##
#.###.#.#..##
.###.##.##.##
#...###.##.##

####..###.#
......###.#
.....#.....
.....#..#.#
....#####..
.##...##.##
....######.
####.##.#..
#######...#
.##.###..##
.##.####.##
.......#.##
#####...###
#######..##
#####..#.##
####..#...#
####..#..##

.....#.####.#
#.###..#..#..
##.#.#..##..#
#.#.##.#..#.#
.....###..##.
####..#.##.#.
.##..########
.##..########
####..#.##.#.

#....######
#....####.#
#....#..#.#
##..####...
.####......
..##.....#.
.......##.#
......#...#
#.##.##.##.
......#.#..
.####..#..#

...#...#..#....#.
#...##..#..##.#..
###.####.#..##..#
###.##.##.######.
...#.###.#......#
#..###.#..##..##.
#..###.#..##..##.

#########.#..##
..#....#.#.#.#.
#.#.#.###...#..
#....##.#.#..##
#.....#.#.#..##
#.#...###.#...#
..####..#.#...#
..####..#.#...#
#.#...###.#...#
#.....#.#.#..##
#....##.#.#..##

..##...
...##.#
...##.#
..##...
..#...#
...#...
##...#.
....#.#
..###..
#####..
..###..
....###
.#.##..
...#...
####...

##....######..#
.#....#.##.#..#
########.###..#
.##...#..#.....
.##..##.##.####
.######.##.#..#
#..##..#...####
##.##.#####.##.
.#....#.##.#..#
#......###.####
#.#..#.#.#..##.
###..###..#.##.
#########.#.##.

#.#####.#..####..
...###.....#..#..
#...#..##...##...
####.##.#.##..##.
#########.##..##.
#...#..#.########
#..##..#.########

..#####
..##...
#..#.##
#.#.###
.#..#..
....###
.#.#.#.
....#..
#..####
.##..##
.##..##
#..####
....#..

###..#.##
#.###.#.#
#.###.#.#
###..#.##
.#.#.###.
.#.###.##
.#####.##

#####.#.##...
#..##...##...
.##..#......#
......#.##.#.
####..######.
....#.######.
.##...#....#.
.##.#........
#######....##
#######....##
####.#..##..#
#..#.###..###
#####.#.##.#.
####.#.#..#.#
#..####.##.##

####..#####
#.#.##.#.#.
###....###.
###....###.
#.#.##.#.#.
####..#####
#..#..#..#.
#.##..##.##
...####....
######.###.
##..##..###
..#.##.#..#
#.#.##.#.##
####..####.
#.##..##.#.
.###..###.#
#..#..#..#.

#....#.##..##
........#..#.
......####.#.
......####.#.
........#..#.
#....#.##..##
#.##.##.##.##
#....#..#....
#.##.##..#.#.
##.#####.#.##
..##........#
......##.##.#
#....#.#..###

##..#...#
##..#..##
#..#.###.
######..#
#.###....
....#....
....#....
#.###....
######..#

........#....##.#
.####...#....#.#.
..##..####.#.##.#
##..##.....##..#.
###.##..#######..
.#..#.....####.##
.#..#.....####.##
`;

function isRowsEqualWithFix(row1: string, row2: string) {
    let fixes = 1;
    for (let i = 0; i < row1.length; i++) {
        if (row1[i] !== row2[i]) {
            if (fixes <= 0) {
                return false;
            }
            fixes--;
        }
    }
    return true;
}

function ifVertical(task: string[], i: number): boolean {
    let fixes = 1;
    let j = 1;
    while (i + j < task.length && i - j + 1 >= 0) {
        if (task[i - j + 1] === task[i + j]) {
            j++;
            continue;
        }
        if (fixes > 0 && isRowsEqualWithFix(task[i - j + 1], task[i + j])) {
            fixes--;
            j++;
            continue;
        }
        return false;
    }
    if (fixes === 1) {
        return false;
    }
    return true;
}

function solve(task: string[]): number {
    for (let i = 0; i < task.length - 1; i++) {
        if (ifVertical(task, i)) {
            return (i + 1) * 100;
        }
    }
    const transpose = [...task[0]].map((_, colIndex) => task.map(row => row[colIndex]).join(""));
    for (let i = 0; i < transpose.length - 1; i++) {
        if (ifVertical(transpose, i)) {
            return (i + 1);
        }
    }
    throw new Error("Should not happen");
}

function main(input: string) {
    const lines = input.split("\n").map(t => t.trim());
    let sum = 0;
    let task = [];
    for (const line of lines) {
        if (!line) {
            if (task.length) {
                sum += solve(task);
            }
            task = [];
        } else {
            task.push(line);
        }
    }

    console.log(sum);
}

console.log("test");
main(test);
console.log("task");
main(task);
console.log("done");
